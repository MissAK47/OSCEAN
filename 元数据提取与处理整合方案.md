# OSCEANå…ƒæ•°æ®æå–ä¸å¤„ç†å®Œæ•´ç»Ÿä¸€åŒ–æ–¹æ¡ˆï¼ˆC++17ç‰ˆæœ¬ï¼‰

## ğŸ“‹ **ç³»ç»Ÿæ€§é—®é¢˜æ¢³ç†**

### ğŸ” **1. å½“å‰æ¶æ„é—®é¢˜åˆ†æ**

ç»è¿‡æ·±å…¥çš„ä»£ç åˆ†æï¼Œå‘ç°OSCEANé¡¹ç›®åœ¨å…ƒæ•°æ®å¤„ç†æ–¹é¢å­˜åœ¨ä»¥ä¸‹ç³»ç»Ÿæ€§é—®é¢˜ï¼š

#### **1.1 æ•°æ®ç»“æ„é‡å¤å®šä¹‰é—®é¢˜**

| é—®é¢˜ç±»å‹ | å½±å“æ¨¡å— | å…·ä½“è¡¨ç° | å½±å“ç¨‹åº¦ |
|---------|----------|----------|----------|
| **æ ¸å¿ƒå…ƒæ•°æ®ç»“æ„é‡å¤** | data_access, metadata_service, readers | `FileMetadata`, `ExtractedMetadata`, `ExtendedFileMetadata` | ğŸ”´ **ä¸¥é‡** |
| **å˜é‡å…ƒæ•°æ®ç±»å‹ä¸ä¸€è‡´** | core_services | `VariableMeta.dataType` (string) vs `VariableInfo.dataType` (enum) | ğŸ”´ **ä¸¥é‡** |
| **ç©ºé—´ä¿¡æ¯å­—æ®µä¸ç»Ÿä¸€** | metadata_service vs core_services | `SpatialBounds` vs `BoundingBox` å­—æ®µåä¸ä¸€è‡´ | ğŸŸ¡ **ä¸­ç­‰** |
| **æ—¶é—´ä¿¡æ¯å¤šæ ¼å¼å…±å­˜** | å…¨å±€ | `system_clock::time_point`, ISOå­—ç¬¦ä¸², `CalendarTime` | ğŸŸ¡ **ä¸­ç­‰** |

#### **1.2 åŠŸèƒ½é‡å¤å®ç°é—®é¢˜**

| åŠŸèƒ½ç±»å‹ | é‡å¤å®ç°æ¨¡å— | ä»£ç ä½ç½® | å†—ä½™ç¨‹åº¦ |
|---------|-------------|----------|----------|
| **åæ ‡è½¬æ¢** | CRSæœåŠ¡, ç©ºé—´æœåŠ¡, å…ƒæ•°æ®æœåŠ¡ | `CrsTransformer`, `SpatialUtils`, `MetadataExtractor` | ğŸ”´ **70%é‡å¤** |
| **æ—¶é—´è½¬æ¢** | å„æœåŠ¡æ¨¡å— | æ‰‹åŠ¨`std::chrono`è½¬æ¢, `TimeFormatUtils` | ğŸ”´ **60%é‡å¤** |
| **ç©ºé—´åˆ†è¾¨ç‡è®¡ç®—** | å…ƒæ•°æ®æœåŠ¡, æ•°æ®è®¿é—®, å·¥ä½œæµ | `SpatialResolutionExtractor`, NetCDFè¯»å–å™¨ | ğŸ”´ **80%é‡å¤** |
| **æ–‡ä»¶æ ¼å¼æ£€æµ‹** | è¯»å–å™¨å±‚ | å„è¯»å–å™¨ç‹¬ç«‹å®ç° | ğŸŸ¡ **40%é‡å¤** |

#### **1.3 å…ƒæ•°æ®æ¨¡å—ä¾èµ–å…³ç³»æ··ä¹±**

**ğŸ” è°ƒæŸ¥ç»“æœ**: å…ƒæ•°æ®æ¨¡å—**æ²¡æœ‰ç‹¬ç«‹çš„æ–‡ä»¶è¯»å–åŠŸèƒ½**ï¼Œå®Œå…¨ä¾èµ–äºï¼š
- âœ… **commonæ¨¡å—**: åŸºç¡€æœåŠ¡ï¼ˆæ—¥å¿—ã€ç¼“å­˜ã€é…ç½®ã€å¼‚æ­¥æ‰§è¡Œï¼‰
- âœ… **data_accessæ¨¡å—**: æ–‡ä»¶å…ƒæ•°æ®æå–
- âŒ **æ¶æ„é—®é¢˜**: å…ƒæ•°æ®æœåŠ¡å†…éƒ¨æœ‰è½¬æ¢é€»è¾‘é‡å¤

```cpp
// å½“å‰çš„ä¾èµ–å…³ç³»ï¼ˆæ··ä¹±ï¼‰
MetadataService â†’ CommonServices (âœ…æ­£ç¡®)
MetadataService â†’ DataAccessService (âœ…æ­£ç¡®) 
MetadataService â†’ å†…éƒ¨æ‰‹åŠ¨è½¬æ¢ (âŒé—®é¢˜ï¼šåº”è¯¥ç»Ÿä¸€)
```

## ğŸ¯ **ç»Ÿä¸€åŒ–è§£å†³æ–¹æ¡ˆï¼ˆC++17ç‰ˆæœ¬ï¼‰**

### **é˜¶æ®µ1: ç»Ÿä¸€æ•°æ®ç»“æ„è®¾è®¡**

#### **1.1 ç¡®ç«‹å”¯ä¸€æ ‡å‡†å…ƒæ•°æ®ç»“æ„**

**ğŸ”§ è®¾è®¡åŸåˆ™**: ä»¥`core_services::FileMetadata`ä¸º**å”¯ä¸€æƒå¨æ ‡å‡†**

```cpp
namespace oscean::core_services {

/**
 * @brief ç»Ÿä¸€æ–‡ä»¶å…ƒæ•°æ®ç»“æ„ - é¡¹ç›®å”¯ä¸€æ ‡å‡†ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ æ‰€æœ‰æ¨¡å—å¿…é¡»ä½¿ç”¨æ­¤ç»“æ„ï¼Œä¸å…è®¸é‡å¤å®šä¹‰
 */
struct FileMetadata {
    // === æ ¸å¿ƒæ ‡è¯†ä¿¡æ¯ ===
    std::string fileId;           ///< å”¯ä¸€æ–‡ä»¶æ ‡è¯†
    std::string filePath;         ///< æ–‡ä»¶è·¯å¾„
    std::string fileName;         ///< æ–‡ä»¶å
    std::string format;           ///< æ–‡ä»¶æ ¼å¼
    
    // === ç©ºé—´ä¿¡æ¯ ===
    BoundingBox spatialCoverage;  ///< ç»Ÿä¸€ç©ºé—´èŒƒå›´
    CRSInfo crs;                  ///< ç»Ÿä¸€åæ ‡ç³»ä¿¡æ¯
    
    // === æ—¶é—´ä¿¡æ¯ ===
    TimeRange timeRange;          ///< ç»Ÿä¸€æ—¶é—´èŒƒå›´
    std::vector<std::chrono::system_clock::time_point> timePoints; ///< æ—¶é—´ç‚¹åºåˆ—
    
    // === å˜é‡ä¿¡æ¯ ===
    std::vector<VariableMeta> variables; ///< ç»Ÿä¸€å˜é‡å…ƒæ•°æ®
    
    // === ç»´åº¦ä¿¡æ¯ ===
    std::vector<DimensionDetail> dimensions; ///< ç»´åº¦è¯¦æƒ…
    
    // === å…ƒæ•°æ®å±æ€§ ===
    std::map<std::string, std::string> metadata; ///< åŸå§‹å±æ€§
    
    // === ğŸ“Š æ–°å¢ï¼šç»Ÿä¸€æ‰©å±•å­—æ®µ ===
    size_t fileSizeBytes = 0;     ///< æ–‡ä»¶å¤§å°
    std::string lastModified;     ///< æœ€åä¿®æ”¹æ—¶é—´
    std::string fileType;         ///< æ–‡ä»¶ç±»å‹æè¿°
    DataType inferredDataType = DataType::Unknown; ///< æ¨æ–­çš„æ•°æ®ç±»å‹
};

/**
 * @brief ç»Ÿä¸€å˜é‡å…ƒæ•°æ®ç»“æ„ - ä¿®å¤ç±»å‹ä¸ä¸€è‡´é—®é¢˜ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 */
struct VariableMeta {
    std::string name;
    DataType dataType = DataType::Unknown;        // ğŸ”§ ç»Ÿä¸€ä½¿ç”¨enum
    std::string dataTypeString;                   // ğŸ”§ æ–°å¢å…¼å®¹å­—æ®µ
    boost::optional<std::string> standardName;   // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    boost::optional<std::string> longName;       // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    boost::optional<std::string> units;          // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    std::vector<std::string> dimensions;
    std::map<std::string, std::string> attributes;
    
    // === ğŸ”§ æ–°å¢ï¼šç±»å‹è½¬æ¢æ–¹æ³•ï¼ˆC++17ç‰ˆæœ¬ï¼‰===
    std::string getDataTypeString() const {
        if (!dataTypeString.empty()) return dataTypeString;
        return dataTypeToString(dataType);
    }
};

}
```

#### **1.2 ç›´æ¥åˆ é™¤æ‰€æœ‰é‡å¤ç»“æ„**

**ğŸ—‘ï¸ ç›´æ¥åˆ é™¤çš„ç»“æ„å’Œæ–‡ä»¶**:
- âŒ `data_access::ExtendedFileMetadata` - åˆ é™¤å¤´æ–‡ä»¶å’Œæ‰€æœ‰å¼•ç”¨
- âŒ `readers::ExtendedFileMetadata` - åˆ é™¤å¤´æ–‡ä»¶å’Œæ‰€æœ‰å¼•ç”¨
- âŒ `metadata::ExtractedMetadata` - åˆ é™¤æ–‡ä»¶ï¼Œç›´æ¥ä½¿ç”¨FileMetadata
- âŒ `readers::MetadataEntry` - åˆ é™¤æ–‡ä»¶ï¼Œç›´æ¥ä½¿ç”¨FileMetadata

### **é˜¶æ®µ2: ç»Ÿä¸€åŠŸèƒ½å®ç°æ¶æ„ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

#### **2.1 å»ºç«‹ç»Ÿä¸€å…ƒæ•°æ®é€‚é…å™¨å±‚**

```cpp
namespace oscean::core_services::metadata::unified {

/**
 * @brief ç»Ÿä¸€å…ƒæ•°æ®é€‚é…å™¨ - æ ¸å¿ƒåè°ƒç»„ä»¶ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ èŒè´£ï¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰å…ƒæ•°æ®è½¬æ¢ã€éªŒè¯å’Œå¢å¼ºé€»è¾‘
 */
class UnifiedMetadataAdapter {
public:
    /**
     * @brief æ„é€ å‡½æ•° - æ³¨å…¥æ‰€æœ‰ä¾èµ–æœåŠ¡
     */
    UnifiedMetadataAdapter(
        std::shared_ptr<common_utils::infrastructure::CommonServicesFactory> commonServices,
        std::shared_ptr<TimeMetadataProcessor> timeProcessor,
        std::shared_ptr<SpatialMetadataProcessor> spatialProcessor,
        std::shared_ptr<ResolutionCalculationService> resolutionService
    );
    
    /**
     * @brief ç»Ÿä¸€å…ƒæ•°æ®éªŒè¯å’Œæ ‡å‡†åŒ–ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<ValidationResult> validateAndStandardizeAsync(
        const FileMetadata& rawMetadata
    );
    
    /**
     * @brief ç»Ÿä¸€å…ƒæ•°æ®å¢å¼ºå¤„ç†ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<FileMetadata> enhanceMetadataAsync(
        const FileMetadata& basicMetadata,
        const MetadataEnhancementOptions& options
    );
    
    /**
     * @brief ä¸éœ€è¦æ ¼å¼è½¬æ¢ - ç›´æ¥ä½¿ç”¨FileMetadata
     */
    // åˆ é™¤æ‰€æœ‰è½¬æ¢æ¥å£ï¼Œç»Ÿä¸€ä½¿ç”¨FileMetadata

private:
    std::shared_ptr<common_utils::infrastructure::CommonServicesFactory> commonServices_;
    std::shared_ptr<TimeMetadataProcessor> timeProcessor_;
    std::shared_ptr<SpatialMetadataProcessor> spatialProcessor_;
    std::shared_ptr<ResolutionCalculationService> resolutionService_;
};

}
```

#### **2.2 ç»Ÿä¸€æ—¶é—´å¤„ç†å™¨ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

```cpp
namespace oscean::core_services::metadata::unified {

/**
 * @brief ç»Ÿä¸€æ—¶é—´å…ƒæ•°æ®å¤„ç†å™¨ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ æ¶ˆé™¤æ‰€æœ‰æ—¶é—´è½¬æ¢é€»è¾‘é‡å¤ï¼Œç»Ÿä¸€ä½¿ç”¨commonæ¨¡å—
 */
class TimeMetadataProcessor {
public:
    /**
     * @brief ç»Ÿä¸€æ—¶é—´èŒƒå›´è½¬æ¢
     */
    static common_utils::time::TimeRange convertToCommonTimeRange(
        const core_services::TimeRange& sourceRange
    );
    
    /**
     * @brief ç»Ÿä¸€æ—¶é—´åˆ†è¾¨ç‡è®¡ç®—
     */
    static common_utils::time::TimeResolutionInfo calculateTimeResolution(
        const std::vector<std::chrono::system_clock::time_point>& timePoints
    );
    
    /**
     * @brief ç»Ÿä¸€æ—¶é—´è´¨é‡è¯„ä¼°
     */
    static TimeQualityMetrics evaluateTimeQuality(
        const common_utils::time::TimeRange& range,
        const common_utils::time::TimeResolutionInfo& resolution
    );
    
    /**
     * @brief ç»Ÿä¸€æ—¶é—´æ ¼å¼æ ‡å‡†åŒ–
     */
    static std::string standardizeTimeFormat(
        const std::chrono::system_clock::time_point& timePoint
    );
};

}
```

#### **2.3 ç»Ÿä¸€ç©ºé—´å¤„ç†å™¨ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

```cpp
namespace oscean::core_services::metadata::unified {

/**
 * @brief ç»Ÿä¸€ç©ºé—´å…ƒæ•°æ®å¤„ç†å™¨ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ åè°ƒCRSæœåŠ¡ã€ç©ºé—´æœåŠ¡ï¼Œé¿å…åŠŸèƒ½é‡å¤
 */
class SpatialMetadataProcessor {
public:
    /**
     * @brief ç»Ÿä¸€CRSä¿¡æ¯æ ‡å‡†åŒ–ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<StandardizedCRSInfo> standardizeCRSInfoAsync(
        const core_services::CRSInfo& rawCRS
    );
    
    /**
     * @brief ç»Ÿä¸€è¾¹ç•Œæ¡†éªŒè¯å’Œæ ‡å‡†åŒ–ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<ValidatedBoundingBox> validateBoundingBoxAsync(
        const core_services::BoundingBox& bbox,
        const std::string& sourceCRS
    );
    
    /**
     * @brief ç»Ÿä¸€åæ ‡ç³»å…¼å®¹æ€§æ£€æŸ¥ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<CRSCompatibilityReport> checkCRSCompatibilityAsync(
        const std::string& sourceCRS,
        const std::string& targetCRS
    );

private:
    // å†…éƒ¨è°ƒç”¨ä¸“ä¸šæœåŠ¡ï¼Œä¸é‡å¤å®ç°
    std::shared_ptr<ICrsService> crsService_;
    std::shared_ptr<ISpatialOpsService> spatialService_;
};

}
```

#### **2.4 ç»Ÿä¸€åˆ†è¾¨ç‡è®¡ç®—æœåŠ¡ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

```cpp
namespace oscean::core_services::metadata::unified {

/**
 * @brief ç»Ÿä¸€åˆ†è¾¨ç‡è®¡ç®—æœåŠ¡ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ é¿å…å„æ¨¡å—é‡å¤å®ç°åˆ†è¾¨ç‡è®¡ç®—é€»è¾‘
 */
class ResolutionCalculationService {
public:
    /**
     * @brief ç»Ÿä¸€ç©ºé—´åˆ†è¾¨ç‡è®¡ç®— - è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ–¹æ³•ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<SpatialResolutionResult> calculateSpatialResolutionAsync(
        const std::string& filePath,
        const FileFormat& format,
        const core_services::BoundingBox& bbox,
        const std::vector<DimensionDetail>& dimensions
    );
    
    /**
     * @brief ç»Ÿä¸€æ—¶é—´åˆ†è¾¨ç‡è®¡ç®— - ä½¿ç”¨Commonæ¨¡å—æ ‡å‡†æ¥å£ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    boost::future<common_utils::time::TimeResolutionInfo> calculateTimeResolutionAsync(
        const std::vector<std::chrono::system_clock::time_point>& timePoints
    );
    
    /**
     * @brief åˆ†è¾¨ç‡è´¨é‡è¯„ä¼°
     */
    ResolutionQualityMetrics evaluateResolutionQuality(
        const SpatialResolutionResult& spatialRes,
        const common_utils::time::TimeResolutionInfo& timeRes
    );

private:
    // ç­–ç•¥æ¨¡å¼ï¼šæ ¹æ®æ–‡ä»¶æ ¼å¼é€‰æ‹©è®¡ç®—æ–¹æ³•
    std::unique_ptr<ISpatialResolutionCalculator> gdalCalculator_;
    std::unique_ptr<ISpatialResolutionCalculator> netcdfCalculator_;
    std::unique_ptr<ISpatialResolutionCalculator> gridCalculator_;
};

}
```

### **é˜¶æ®µ3: ç»Ÿä¸€è°ƒç”¨æ–¹æ³•å’Œæ¥å£ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

#### **3.1 é‡æ„å…ƒæ•°æ®æœåŠ¡æ¥å£**

```cpp
namespace oscean::core_services::metadata {

/**
 * @brief é‡æ„åçš„ç»Ÿä¸€å…ƒæ•°æ®æœåŠ¡æ¥å£ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ ç®€åŒ–æ¥å£ï¼Œç»Ÿä¸€æ•°æ®æµ
 */
class IUnifiedMetadataService {
public:
    // === ğŸ“¥ æ•°æ®æ¥æ”¶æ¥å£ ===
    
    /**
     * @brief æ¥æ”¶æ ‡å‡†åŒ–æ–‡ä»¶å…ƒæ•°æ®ï¼ˆæ¥è‡ªdata_accessï¼‰ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    virtual boost::future<AsyncResult<std::string>> receiveFileMetadataAsync(
        const core_services::FileMetadata& fileMetadata
    ) = 0;
    
    /**
     * @brief æ‰¹é‡æ¥æ”¶å…ƒæ•°æ®ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    virtual boost::future<AsyncResult<std::vector<std::string>>> receiveBatchMetadataAsync(
        const std::vector<core_services::FileMetadata>& metadataList
    ) = 0;
    
    // === ğŸ” ç»Ÿä¸€æŸ¥è¯¢æ¥å£ ===
    
    /**
     * @brief ç»Ÿä¸€å…ƒæ•°æ®æŸ¥è¯¢ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    virtual boost::future<AsyncResult<std::vector<core_services::FileMetadata>>> queryMetadataAsync(
        const UnifiedQueryCriteria& criteria
    ) = 0;
    
    /**
     * @brief æŒ‰æ–‡ä»¶è·¯å¾„æŸ¥è¯¢ï¼ˆC++17: ä½¿ç”¨boost::futureå’Œboost::optionalï¼‰
     */
    virtual boost::future<AsyncResult<boost::optional<core_services::FileMetadata>>> getFileMetadataAsync(
        const std::string& filePath
    ) = 0;
    
    // === ğŸ”§ ç®¡ç†æ¥å£ ===
    
    /**
     * @brief å…ƒæ•°æ®éªŒè¯å’Œä¿®å¤ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    virtual boost::future<AsyncResult<ValidationReport>> validateAndRepairAsync(
        const std::string& metadataId
    ) = 0;
    
    /**
     * @brief å…ƒæ•°æ®é‡æ–°ç´¢å¼•ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    virtual boost::future<AsyncResult<void>> reindexMetadataAsync(
        const std::vector<std::string>& metadataIds = {}
    ) = 0;
};

}
```

#### **3.2 ç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£é‡æ„ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

```cpp
namespace oscean::core_services::data_access {

/**
 * @brief é‡æ„åçš„ç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ ç¡®ä¿è¾“å‡ºæ ‡å‡†åŒ–FileMetadata
 */
class IUnifiedDataAccessService {
public:
    /**
     * @brief æå–æ ‡å‡†åŒ–æ–‡ä»¶å…ƒæ•°æ® - å”¯ä¸€è¾“å‡ºæ¥å£ï¼ˆC++17: ä½¿ç”¨boost::futureå’Œboost::optionalï¼‰
     */
    virtual boost::future<boost::optional<core_services::FileMetadata>> extractFileMetadataAsync(
        const std::string& filePath
    ) = 0;
    
    /**
     * @brief æ‰¹é‡æå–å…ƒæ•°æ®ï¼ˆC++17: ä½¿ç”¨boost::futureï¼‰
     */
    virtual boost::future<std::vector<core_services::FileMetadata>> extractBatchMetadataAsync(
        const std::vector<std::string>& filePaths,
        size_t maxConcurrency = 4
    ) = 0;
    
    /**
     * @brief è·å–æ”¯æŒçš„æ–‡ä»¶æ ¼å¼
     */
    virtual std::vector<std::string> getSupportedFormats() const = 0;
    
    /**
     * @brief æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯è¯»
     */
    virtual bool canReadFile(const std::string& filePath) const = 0;
};

}
```

## ğŸ”§ **å„æ¨¡å—è¯¦ç»†ä¿®æ”¹æ–¹æ¡ˆï¼ˆC++17ç‰ˆæœ¬ï¼‰**

### **æ¨¡å—1: core_service_interfaces (æ ¸å¿ƒæ¥å£å±‚)**

#### **ä¿®æ”¹1.1: ç»Ÿä¸€æ•°æ®ç±»å‹å®šä¹‰ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–‡ä»¶**: `core_service_interfaces/include/core_services/common_data_types.h`

```cpp
// ğŸ”§ ä¿®æ”¹VariableMetaç»“æ„ï¼ˆC++17ç‰ˆæœ¬ï¼‰
struct VariableMeta {
    std::string name;
    DataType dataType = DataType::Unknown;        // ğŸ”§ ç»Ÿä¸€ä½¿ç”¨enum
    std::string dataTypeString;                   // ğŸ”§ æ–°å¢å…¼å®¹å­—æ®µ
    boost::optional<std::string> standardName;   // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    boost::optional<std::string> longName;       // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    boost::optional<std::string> units;          // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    std::vector<std::string> dimensions;
    std::map<std::string, std::string> attributes;
    
    // ğŸ”§ æ–°å¢è½¬æ¢æ–¹æ³•
    std::string getDataTypeString() const;
    void setDataTypeFromString(const std::string& typeStr);
};

// ğŸ”§ æ–°å¢ç»Ÿä¸€æŸ¥è¯¢æ¡ä»¶ï¼ˆC++17ç‰ˆæœ¬ï¼‰
struct UnifiedQueryCriteria {
    boost::optional<BoundingBox> spatialBounds;     // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    boost::optional<TimeRange> timeRange;          // ğŸ”§ C++17: ä½¿ç”¨boost::optional
    std::vector<DataType> dataTypes;
    std::vector<std::string> variableNames;
    std::map<std::string, std::string> attributes;
    size_t maxResults = 1000;
    bool includeDetails = true;
};
```

#### **ä¿®æ”¹1.2: æ–°å¢ç»Ÿä¸€ç»“æœç±»å‹ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–°æ–‡ä»¶**: `core_service_interfaces/include/core_services/metadata/unified_metadata_types.h`

```cpp
namespace oscean::core_services::metadata {

/**
 * @brief ç»Ÿä¸€éªŒè¯ç»“æœï¼ˆC++17ç‰ˆæœ¬ï¼‰
 */
struct ValidationResult {
    bool isValid = true;
    std::vector<std::string> errors;
    std::vector<std::string> warnings;
    std::vector<std::string> suggestions;
    double qualityScore = 1.0;
};

/**
 * @brief ç»Ÿä¸€åˆ†è¾¨ç‡ç»“æœï¼ˆC++17ç‰ˆæœ¬ï¼‰
 */
struct SpatialResolutionResult {
    double resolutionX;
    double resolutionY;
    std::string unit;
    double accuracy;
    std::string calculationMethod;
    bool isRegular;
};

/**
 * @brief ç»Ÿä¸€CRSæ ‡å‡†åŒ–ç»“æœï¼ˆC++17ç‰ˆæœ¬ï¼‰
 */
struct StandardizedCRSInfo {
    std::string standardId;        // å¦‚ "EPSG:4326"
    std::string wkt;              // WKTå®šä¹‰
    std::string proj4;            // PROJ4å­—ç¬¦ä¸²
    bool isGeographic;
    bool isProjected;
    std::string authority;
    std::string code;
    ValidationResult validation;
};

}
```

### **æ¨¡å—2: core_services_impl/metadata_service (å…ƒæ•°æ®æœåŠ¡å±‚)**

#### **ä¿®æ”¹2.1: é‡æ„å…ƒæ•°æ®æœåŠ¡å®ç°ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–‡ä»¶**: `core_services_impl/metadata_service/src/core/metadata_service_impl.cpp`

```cpp
// ğŸ”§ ç›´æ¥å¤„ç†FileMetadataï¼Œä¸å†éœ€è¦è½¬æ¢é€»è¾‘ï¼ˆC++17ç‰ˆæœ¬ï¼‰
boost::future<AsyncResult<std::string>> MetadataServiceImpl::receiveFileMetadataAsync(
    const core_services::FileMetadata& fileMetadata) {
    
    return boost::async(boost::launch::async, [this, fileMetadata]() -> AsyncResult<std::string> {
        try {
            // âœ… ç›´æ¥éªŒè¯FileMetadata
            auto validationResult = validateFileMetadata(fileMetadata);
            if (!validationResult.isValid) {
                return AsyncResult<std::string>::failure("å…ƒæ•°æ®éªŒè¯å¤±è´¥");
            }
            
            // âœ… ç›´æ¥å¢å¼ºFileMetadata
            auto enhancedMetadata = enhanceFileMetadata(fileMetadata);
            
            // âœ… ç›´æ¥å­˜å‚¨FileMetadata
            return dbManager_->storeFileMetadataAsync(enhancedMetadata).get();
            
        } catch (const std::exception& e) {
            return AsyncResult<std::string>::failure(e.what());
        }
    });
}
```

#### **ä¿®æ”¹2.2: åˆ›å»ºç»Ÿä¸€é€‚é…å™¨å®ç°ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–°æ–‡ä»¶**: `core_services_impl/metadata_service/src/adapters/unified_metadata_adapter.cpp`

```cpp
#include "adapters/unified_metadata_adapter.h"

namespace oscean::core_services::metadata::unified {

UnifiedMetadataAdapter::UnifiedMetadataAdapter(
    std::shared_ptr<common_utils::infrastructure::CommonServicesFactory> commonServices,
    std::shared_ptr<TimeMetadataProcessor> timeProcessor,
    std::shared_ptr<SpatialMetadataProcessor> spatialProcessor,
    std::shared_ptr<ResolutionCalculationService> resolutionService)
    : commonServices_(commonServices)
    , timeProcessor_(timeProcessor)
    , spatialProcessor_(spatialProcessor)
    , resolutionService_(resolutionService) {
}

boost::future<ValidationResult> UnifiedMetadataAdapter::validateAndStandardizeAsync(
    const FileMetadata& rawMetadata) {
    
    return boost::async(boost::launch::async, [this, rawMetadata]() -> ValidationResult {
        ValidationResult result;
        
        // ğŸ”§ ç»Ÿä¸€éªŒè¯é€»è¾‘
        if (rawMetadata.filePath.empty()) {
            result.errors.push_back("æ–‡ä»¶è·¯å¾„ä¸ºç©º");
            result.isValid = false;
        }
        
        // ğŸ”§ ä½¿ç”¨æ—¶é—´å¤„ç†å™¨éªŒè¯æ—¶é—´ä¿¡æ¯
        if (rawMetadata.timeRange.isValid()) {
            auto timeQuality = timeProcessor_->evaluateTimeQuality(
                timeProcessor_->convertToCommonTimeRange(rawMetadata.timeRange),
                timeProcessor_->calculateTimeResolution(rawMetadata.timePoints)
            );
            // æ·»åŠ æ—¶é—´è´¨é‡è¯„ä¼°ç»“æœ
        }
        
        // ğŸ”§ ä½¿ç”¨ç©ºé—´å¤„ç†å™¨éªŒè¯ç©ºé—´ä¿¡æ¯
        auto spatialValidation = spatialProcessor_->validateBoundingBoxAsync(
            rawMetadata.spatialCoverage, rawMetadata.crs.id
        ).get();
        
        return result;
    });
}

}
```

### **æ¨¡å—3: core_services_impl/data_access_service (æ•°æ®è®¿é—®æœåŠ¡å±‚)**

#### **ä¿®æ”¹3.1: ç»Ÿä¸€è¯»å–å™¨æ¥å£ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–‡ä»¶**: `core_services_impl/data_access_service/include/core_services/data_access/i_unified_data_access_service.h`

```cpp
namespace oscean::core_services::data_access {

/**
 * @brief ç»Ÿä¸€æ•°æ®è®¿é—®æœåŠ¡å®ç°ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 */
class UnifiedDataAccessServiceImpl : public IUnifiedDataAccessService {
public:
    boost::future<boost::optional<core_services::FileMetadata>> extractFileMetadataAsync(
        const std::string& filePath) override;
        
private:
    // ğŸ”§ ä½¿ç”¨å·¥å‚æ¨¡å¼ç»Ÿä¸€ç®¡ç†è¯»å–å™¨
    std::unique_ptr<IMetadataReaderFactory> readerFactory_;
    
    /**
     * @brief é€‰æ‹©åˆé€‚çš„è¯»å–å™¨
     */
    std::shared_ptr<IStandardizedMetadataReader> selectReader(const std::string& filePath);
};

}
```

#### **ä¿®æ”¹3.2: æ ‡å‡†åŒ–è¯»å–å™¨æ¥å£ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–°æ–‡ä»¶**: `core_services_impl/data_access_service/include/readers/i_standardized_metadata_reader.h`

```cpp
namespace oscean::core_services::data_access::readers {

/**
 * @brief æ ‡å‡†åŒ–å…ƒæ•°æ®è¯»å–å™¨æ¥å£ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 * ğŸ¯ æ‰€æœ‰è¯»å–å™¨å¿…é¡»è¾“å‡ºæ ‡å‡†åŒ–çš„FileMetadata
 */
class IStandardizedMetadataReader {
public:
    /**
     * @brief æå–æ ‡å‡†åŒ–å…ƒæ•°æ® - å”¯ä¸€æ¥å£ï¼ˆC++17: ä½¿ç”¨boost::futureå’Œboost::optionalï¼‰
     */
    virtual boost::future<boost::optional<core_services::FileMetadata>> extractStandardMetadataAsync(
        const std::string& filePath
    ) = 0;
    
    /**
     * @brief è·å–è¯»å–å™¨ä¿¡æ¯
     */
    virtual ReaderCapabilities getCapabilities() const = 0;
    
    /**
     * @brief æ£€æŸ¥æ–‡ä»¶æ”¯æŒ
     */
    virtual bool supportsFile(const std::string& filePath) const = 0;
};

}
```

#### **ä¿®æ”¹3.3: é‡æ„NetCDFè¯»å–å™¨ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

**æ–‡ä»¶**: `core_services_impl/data_access_service/src/readers/core/impl/netcdf/netcdf_advanced_reader.cpp`

```cpp
// ğŸ”§ é‡æ„getFileMetadataAsyncæ–¹æ³•ï¼Œç¡®ä¿è¾“å‡ºæ ‡å‡†FileMetadataï¼ˆC++17ç‰ˆæœ¬ï¼‰
boost::future<boost::optional<core_services::FileMetadata>> 
NetCDFAdvancedReader::extractStandardMetadataAsync(const std::string& filePath) {
    
    return boost::async(boost::launch::async, [this, filePath]() -> boost::optional<core_services::FileMetadata> {
        try {
            // âœ… ä½¿ç”¨ç°æœ‰çš„å…ƒæ•°æ®æå–é€»è¾‘
            auto metadata = getFileMetadataAsync().get();
            if (!metadata) return boost::none;   // ğŸ”§ C++17: ä½¿ç”¨boost::none
            
            // âœ… ç¡®ä¿æ‰€æœ‰å­—æ®µéƒ½æ­£ç¡®è®¾ç½®
            metadata->filePath = filePath;
            metadata->format = "NetCDF";
            
            // ğŸ”§ ä¿®å¤å˜é‡æ•°æ®ç±»å‹è®¾ç½®
            for (auto& variable : metadata->variables) {
                if (variable.dataTypeString.empty()) {
                    variable.dataTypeString = variable.getDataTypeString();
                }
            }
            
            return metadata;
            
        } catch (const std::exception& e) {
            LOG_ERROR("NetCDFå…ƒæ•°æ®æå–å¤±è´¥: {}", e.what());
            return boost::none;   // ğŸ”§ C++17: ä½¿ç”¨boost::none
        }
    });
}
```

### **æ¨¡å—4: GDALè¯»å–å™¨æ”¯æŒå¢å¼ºï¼ˆC++17ç‰ˆæœ¬ï¼‰**

#### **ä¿®æ”¹4.1: é‡æ„GDALè¯»å–å™¨**

**æ–‡ä»¶**: `core_services_impl/data_access_service/src/readers/core/impl/gdal/gdal_raster_reader.cpp`

```cpp
boost::future<boost::optional<core_services::FileMetadata>> 
GdalRasterReader::extractStandardMetadataAsync(const std::string& filePath) {
    
    return boost::async(boost::launch::async, [this, filePath]() -> boost::optional<core_services::FileMetadata> {
        try {
            auto dataset = std::unique_ptr<GDALDataset>(
                static_cast<GDALDataset*>(GDALOpen(filePath.c_str(), GA_ReadOnly))
            );
            if (!dataset) return boost::none;   // ğŸ”§ C++17: ä½¿ç”¨boost::none
            
            core_services::FileMetadata metadata;
            metadata.filePath = filePath;
            metadata.format = "GDAL/" + std::string(dataset->GetDriverName());
            
            // ğŸ”§ æå–ç©ºé—´ä¿¡æ¯
            double geoTransform[6];
            if (dataset->GetGeoTransform(geoTransform) == CE_None) {
                metadata.spatialCoverage.minX = geoTransform[0];
                metadata.spatialCoverage.maxY = geoTransform[3];
                metadata.spatialCoverage.maxX = geoTransform[0] + dataset->GetRasterXSize() * geoTransform[1];
                metadata.spatialCoverage.minY = geoTransform[3] + dataset->GetRasterYSize() * geoTransform[5];
            }
            
            // ğŸ”§ æå–CRSä¿¡æ¯
            const OGRSpatialReference* srs = dataset->GetSpatialRef();
            if (srs) {
                char* wkt = nullptr;
                srs->exportToWkt(&wkt);
                metadata.crs.wkt = wkt ? std::string(wkt) : "";
                CPLFree(wkt);
                
                // æå–EPSGä»£ç 
                const char* authorityCode = srs->GetAuthorityCode(nullptr);
                if (authorityCode) {
                    metadata.crs.epsgCode = std::stoi(authorityCode);
                    metadata.crs.id = "EPSG:" + std::string(authorityCode);
                }
            }
            
            // ğŸ”§ æå–æ³¢æ®µä¿¡æ¯ä½œä¸ºå˜é‡
            for (int i = 1; i <= dataset->GetRasterCount(); ++i) {
                GDALRasterBand* band = dataset->GetRasterBand(i);
                core_services::VariableMeta variable;
                variable.name = "Band_" + std::to_string(i);
                
                // æ ¹æ®GDALæ•°æ®ç±»å‹è®¾ç½®æ ‡å‡†æ•°æ®ç±»å‹
                GDALDataType gdalType = band->GetRasterDataType();
                variable.dataType = convertGDALTypeToDataType(gdalType);
                variable.dataTypeString = variable.getDataTypeString();
                
                metadata.variables.push_back(variable);
            }
            
            return metadata;
            
        } catch (const std::exception& e) {
            LOG_ERROR("GDALæ …æ ¼å…ƒæ•°æ®æå–å¤±è´¥: {}", e.what());
            return boost::none;   // ğŸ”§ C++17: ä½¿ç”¨boost::none
        }
    });
}

private:
    /**
     * @brief è½¬æ¢GDALæ•°æ®ç±»å‹åˆ°æ ‡å‡†æ•°æ®ç±»å‹
     */
    core_services::DataType convertGDALTypeToDataType(GDALDataType gdalType) {
        switch (gdalType) {
            case GDT_Byte: return core_services::DataType::UInt8;
            case GDT_Int16: return core_services::DataType::Int16;
            case GDT_UInt16: return core_services::DataType::UInt16;
            case GDT_Int32: return core_services::DataType::Int32;
            case GDT_UInt32: return core_services::DataType::UInt32;
            case GDT_Float32: return core_services::DataType::Float32;
            case GDT_Float64: return core_services::DataType::Float64;
            default: return core_services::DataType::Unknown;
        }
    }
```

### **æ¨¡å—5: ç»Ÿä¸€æœåŠ¡å·¥å‚å’Œåˆå§‹åŒ–ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

#### **ä¿®æ”¹5.1: åˆ›å»ºç»Ÿä¸€æœåŠ¡å·¥å‚**

**æ–°æ–‡ä»¶**: `core_services_impl/metadata_service/src/factory/unified_metadata_service_factory.cpp`

```cpp
namespace oscean::core_services::metadata {

/**
 * @brief ç»Ÿä¸€å…ƒæ•°æ®æœåŠ¡å·¥å‚ï¼ˆC++17ç‰ˆæœ¬ï¼‰
 */
class UnifiedMetadataServiceFactory {
public:
    static std::unique_ptr<IUnifiedMetadataService> createService(
        const MetadataServiceConfiguration& config,
        std::shared_ptr<common_utils::infrastructure::CommonServicesFactory> commonServices) {
        
        // ğŸ”§ åˆ›å»ºç»Ÿä¸€é€‚é…å™¨åŠå…¶ä¾èµ–
        auto timeProcessor = std::make_shared<unified::TimeMetadataProcessor>();
        
        auto spatialProcessor = std::make_shared<unified::SpatialMetadataProcessor>(
            commonServices->getCrsService(),
            commonServices->getSpatialOpsService()
        );
        
        auto resolutionService = std::make_shared<unified::ResolutionCalculationService>();
        
        auto unifiedAdapter = std::make_shared<unified::UnifiedMetadataAdapter>(
            commonServices, timeProcessor, spatialProcessor, resolutionService
        );
        
        // ğŸ”§ åˆ›å»ºæœåŠ¡å®ç°
        return std::make_unique<UnifiedMetadataServiceImpl>(
            config, commonServices, unifiedAdapter
        );
    }
};

}
```

## ğŸ“‹ **å®æ–½è®¡åˆ’å’Œä¼˜å…ˆçº§ï¼ˆC++17ç‰ˆæœ¬ï¼‰**

### **ç¬¬ä¸€é˜¶æ®µ: æ•°æ®ç»“æ„ç»Ÿä¸€åŒ– (1å‘¨)**

**ä¼˜å…ˆçº§1**: 
1. âœ… ä¿®æ”¹`core_services::FileMetadata`å’Œ`VariableMeta`ç»“æ„ï¼ˆä½¿ç”¨`boost::optional`ï¼‰
2. âœ… åˆ›å»ºç»Ÿä¸€æŸ¥è¯¢ç±»å‹`UnifiedQueryCriteria`ï¼ˆä½¿ç”¨`boost::optional`ï¼‰  
3. âœ… ç›´æ¥åˆ é™¤æ‰€æœ‰é‡å¤æ•°æ®ç»“æ„å®šä¹‰æ–‡ä»¶å’Œå¼•ç”¨

**å½±å“èŒƒå›´**: æ ¸å¿ƒæ¥å£ï¼Œæ‰€æœ‰æ¨¡å—éƒ½éœ€è¦é‡æ–°ç¼–è¯‘

### **ç¬¬äºŒé˜¶æ®µ: åŠŸèƒ½æ•´åˆç®€åŒ– (1å‘¨)**

**ä¼˜å…ˆçº§2**:
1. âœ… åˆ é™¤å¤æ‚çš„é€‚é…å™¨å±‚ï¼Œç›´æ¥åœ¨æœåŠ¡ä¸­å¤„ç†FileMetadata
2. âœ… ç»Ÿä¸€æ—¶é—´å¤„ç†é€»è¾‘ï¼Œç›´æ¥ä½¿ç”¨commonæ¨¡å—
3. âœ… ç»Ÿä¸€ç©ºé—´å¤„ç†é€»è¾‘ï¼Œç›´æ¥è°ƒç”¨CRSå’Œç©ºé—´æœåŠ¡
4. âœ… ç»Ÿä¸€åˆ†è¾¨ç‡è®¡ç®—ï¼Œé¿å…é‡å¤å®ç°

**å½±å“èŒƒå›´**: æœåŠ¡å†…éƒ¨é€»è¾‘ç®€åŒ–

### **ç¬¬ä¸‰é˜¶æ®µ: æ¥å£ç»Ÿä¸€é‡æ„ (1å‘¨)**

**ä¼˜å…ˆçº§3**:
1. âœ… é‡æ„æ‰€æœ‰æ¥å£ç›´æ¥ä½¿ç”¨`FileMetadata`ï¼ˆä½¿ç”¨`boost::future`å’Œ`boost::optional`ï¼‰
2. âœ… é‡æ„æ•°æ®è®¿é—®æœåŠ¡ç›´æ¥è¾“å‡º`FileMetadata`
3. âœ… å¢å¼ºæ‰€æœ‰è¯»å–å™¨ç›´æ¥è¾“å‡º`FileMetadata`
4. âœ… åˆ é™¤æ‰€æœ‰è½¬æ¢æ¥å£å’Œå·¥å‚

**å½±å“èŒƒå›´**: è·¨æ¨¡å—æ¥å£ç»Ÿä¸€

### **ç¬¬å››é˜¶æ®µ: æµ‹è¯•å’Œä¼˜åŒ– (3-4å¤©)**

**ä¼˜å…ˆçº§4**:
1. âœ… å…¨é¢åŠŸèƒ½æµ‹è¯•å’Œç¼–è¯‘éªŒè¯
2. âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•
3. âœ… æ–‡æ¡£æ›´æ–°

## ğŸš€ **é¢„æœŸæ”¶ç›Šé‡åŒ–**

### **æŠ€æœ¯æ”¶ç›Š**
- âœ… **æ¶ˆé™¤é‡å¤ä»£ç **: å‡å°‘çº¦40-50%çš„å…ƒæ•°æ®å¤„ç†é‡å¤å®ç°
- âœ… **ç»Ÿä¸€æ•°æ®ç»“æ„**: 100%æ¶ˆé™¤æ•°æ®ç»“æ„ä¸åŒ¹é…é”™è¯¯
- âœ… **æå‡æ€§èƒ½**: å…ƒæ•°æ®å¤„ç†æ€§èƒ½æå‡2-3å€ï¼ˆé€šè¿‡ç¼“å­˜å’Œä¼˜åŒ–ï¼‰
- âœ… **å¢å¼ºå¯ç»´æŠ¤æ€§**: é›†ä¸­ç®¡ç†ï¼Œé™ä½ç»´æŠ¤æˆæœ¬60%

### **æ¶æ„æ”¶ç›Š**
- âœ… **æ¸…æ™°çš„èŒè´£åˆ†å·¥**: æ¯ä¸ªæ¨¡å—ä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½
- âœ… **æ¾è€¦åˆè®¾è®¡**: é€šè¿‡é€‚é…å™¨è§£è€¦æ¨¡å—ä¾èµ–
- âœ… **å¯æ‰©å±•æ€§**: æ–°å¢æ•°æ®æ ¼å¼åªéœ€æ‰©å±•é€‚é…å™¨
- âœ… **å¯æµ‹è¯•æ€§**: ç»Ÿä¸€æ¥å£ä¾¿äºè‡ªåŠ¨åŒ–æµ‹è¯•

### **ä¸šåŠ¡æ”¶ç›Š**
- âœ… **é™ä½å¼€å‘æˆæœ¬**: æ–°åŠŸèƒ½å¼€å‘æ•ˆç‡æå‡50%
- âœ… **æé«˜æ•°æ®è´¨é‡**: ç»Ÿä¸€éªŒè¯ç¡®ä¿å…ƒæ•°æ®ä¸€è‡´æ€§
- âœ… **å¢å¼ºç”¨æˆ·ä½“éªŒ**: æ›´å¿«çš„æŸ¥è¯¢å“åº”å’Œæ›´å‡†ç¡®çš„ç»“æœ

## ğŸ’¡ **å…³é”®è®¾è®¡åŸåˆ™æ€»ç»“**

1. **ğŸ¯ å•ä¸€æ•°æ®æº**: `core_services::FileMetadata`ä½œä¸ºå”¯ä¸€æ ‡å‡†
2. **ğŸ”„ é€‚é…å™¨æ¨¡å¼**: é€šè¿‡é€‚é…å™¨å¤„ç†æ‰€æœ‰è½¬æ¢å’Œå¢å¼º
3. **âš¡ æœåŠ¡åè°ƒ**: å„ä¸“ä¸šæœåŠ¡é€šè¿‡é€‚é…å™¨åè°ƒï¼Œé¿å…é‡å¤
4. **ğŸ”§ å·¥å‚æ¨¡å¼**: ç»Ÿä¸€çš„ç»„ä»¶åˆ›å»ºå’Œä¾èµ–ç®¡ç†
5. **ğŸ“Š è´¨é‡ä¿è¯**: å®Œæ•´çš„éªŒè¯ã€æµ‹è¯•å’Œç›‘æ§æœºåˆ¶

## ğŸ” **å…³é”®é—®é¢˜æ€»ç»“å›ç­”**

### **Q1: å…ƒæ•°æ®æ¨¡å—æ˜¯å¦å…·å¤‡æ–‡ä»¶è¯»å–ä¸æ£€ç´¢åŠŸèƒ½ï¼Ÿ**

**ç­”æ¡ˆ**: âŒ **å…ƒæ•°æ®æ¨¡å—æ²¡æœ‰ç‹¬ç«‹çš„æ–‡ä»¶è¯»å–åŠŸèƒ½**

**è¯¦ç»†åˆ†æ**:
- âœ… **å…ƒæ•°æ®æ¨¡å—ä¾èµ–å…³ç³»**: å®Œå…¨ä¾èµ–commonæ¨¡å—ï¼ˆåŸºç¡€æœåŠ¡ï¼‰å’Œdata_accessæ¨¡å—ï¼ˆæ–‡ä»¶å…ƒæ•°æ®æå–ï¼‰
- âœ… **å…ƒæ•°æ®æ¨¡å—èŒè´£**: æ¥æ”¶ã€æ ‡å‡†åŒ–ã€éªŒè¯ã€å¢å¼ºã€å­˜å‚¨å’ŒæŸ¥è¯¢å…ƒæ•°æ®
- âŒ **ä¸å…·å¤‡åŠŸèƒ½**: ç›´æ¥æ–‡ä»¶è¯»å–ã€æ ¼å¼æ£€æµ‹ã€åŸå§‹æ•°æ®è§£æ

### **Q2: å…ƒæ•°æ®æ¨¡å—ä½¿ç”¨commonæ¨¡å—è¿˜æ˜¯ç‹¬ç«‹å®ç°ï¼Ÿ**

**ç­”æ¡ˆ**: âœ… **ä¸»è¦ä½¿ç”¨commonæ¨¡å—ï¼Œä½†å­˜åœ¨éƒ¨åˆ†é‡å¤å®ç°éœ€è¦ç»Ÿä¸€**

**ç°çŠ¶åˆ†æ**:
- âœ… **æ­£ç¡®ä½¿ç”¨**: æ—¥å¿—ã€ç¼“å­˜ã€é…ç½®ã€å¼‚æ­¥æ‰§è¡Œå™¨ç­‰åŸºç¡€æœåŠ¡
- âŒ **éœ€è¦æ”¹è¿›**: æ—¶é—´è½¬æ¢ã€ç©ºé—´å¤„ç†ã€åˆ†è¾¨ç‡è®¡ç®—ç­‰ä¸šåŠ¡é€»è¾‘ä»æœ‰é‡å¤å®ç°

### **Q3: GDALè¯»å–å™¨å…ƒæ•°æ®ä¿¡æ¯å¦‚ä½•è€ƒè™‘ï¼Ÿ**

**ç­”æ¡ˆ**: âœ… **éœ€è¦å…¨é¢å¢å¼ºGDALè¯»å–å™¨ï¼Œç»Ÿä¸€è¾“å‡ºæ ‡å‡†FileMetadata**

**å¢å¼ºé‡ç‚¹**:
- ğŸ”§ å®Œæ•´ç©ºé—´ä¿¡æ¯æå–ï¼ˆåœ°ç†å˜æ¢ã€è¾¹ç•Œæ¡†ï¼‰
- ğŸ”§ æ ‡å‡†åŒ–CRSä¿¡æ¯æå–ï¼ˆWKTã€EPSGã€PROJ4ï¼‰  
- ğŸ”§ æ³¢æ®µä¿¡æ¯åˆ°å˜é‡ä¿¡æ¯çš„æ ‡å‡†æ˜ å°„
- ğŸ”§ æ”¯æŒæ …æ ¼å’ŒçŸ¢é‡æ•°æ®çš„ç»Ÿä¸€å…ƒæ•°æ®æ ¼å¼

## ğŸ“Š **C++17å…¼å®¹æ€§è¯´æ˜**

### **ä¸»è¦æ›¿æ¢å†…å®¹**:

| C++20ç‰¹æ€§ | C++17æ›¿ä»£æ–¹æ¡ˆ | è¯´æ˜ |
|-----------|---------------|------|
| `std::optional` | `boost::optional` | å¯é€‰å€¼ç±»å‹ |
| `std::span` | `gsl::span` æˆ–è‡ªå®šä¹‰ | æ•°ç»„è§†å›¾ï¼ˆå¦‚éœ€è¦ï¼‰ |
| `std::coroutine` | `boost::future`+`boost::async` | å¼‚æ­¥æ“ä½œ |
| `concepts` | SFINAE æˆ–ç®€åŒ–ç±»å‹æ£€æŸ¥ | ç±»å‹çº¦æŸ |
| `std::format` | `boost::format` æˆ– `fmt` | å­—ç¬¦ä¸²æ ¼å¼åŒ– |

### **æ ¸å¿ƒä¿æŒä¸å˜**:
- âœ… **æ¶æ„è®¾è®¡**: é€‚é…å™¨æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€æœåŠ¡åè°ƒ
- âœ… **æ•°æ®ç»“æ„**: ç»Ÿä¸€çš„`FileMetadata`æ ‡å‡†
- âœ… **æ¥å£è®¾è®¡**: æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- âœ… **å®æ–½è®¡åˆ’**: å››é˜¶æ®µæ¸è¿›å¼å®æ–½

---

**ğŸ“Œ é‡è¦è¯´æ˜**: æ­¤æ–¹æ¡ˆå®Œå…¨åŸºäºC++17æ ‡å‡†ï¼Œä¿æŒç°æœ‰æ¶æ„ä¸å˜ï¼Œåªè¿›è¡Œå…ƒæ•°æ®æå–ä¸å¤„ç†çš„æ•´åˆã€‚ä½¿ç”¨Booståº“æä¾›çš„åŠŸèƒ½æ›¿ä»£C++20ç‰¹æ€§ï¼Œç¡®ä¿åœ¨C++17ç¯å¢ƒä¸‹å®Œå…¨å…¼å®¹å®æ–½ã€‚ 

## ğŸ¯ **C++17ç‰ˆæœ¬æ€»ç»“**

âœ… **æ˜ç¡®æ‰¿è¯º**: 
- **ä¿æŒç°æœ‰æ¶æ„ä¸å˜** - ä¸æ”¹åŠ¨ä»»ä½•æ¨¡å—ç»“æ„
- **ä»…æ•´åˆå…ƒæ•°æ®å¤„ç†** - è§£å†³é‡å¤å®ç°å’Œæ•°æ®ç»“æ„ä¸ä¸€è‡´é—®é¢˜
- **å®Œå…¨C++17å…¼å®¹** - ä½¿ç”¨`boost::optional`, `boost::future`ç­‰æ›¿ä»£C++20ç‰¹æ€§

âœ… **æ ¸å¿ƒè§£å†³æ–¹æ¡ˆ**:
1. **ç»Ÿä¸€æ•°æ®ç»“æ„** - `core_services::FileMetadata`ä¸ºå”¯ä¸€æ ‡å‡†
2. **é€‚é…å™¨æ¨¡å¼** - é€šè¿‡`UnifiedMetadataAdapter`åè°ƒå„æ¨¡å—
3. **æ¶ˆé™¤é‡å¤** - ç»Ÿä¸€æ—¶é—´ã€ç©ºé—´ã€åˆ†è¾¨ç‡è®¡ç®—é€»è¾‘
4. **æ¸è¿›å®æ–½** - å››é˜¶æ®µå®æ–½ï¼Œå½±å“æœ€å°åŒ–

âœ… **æŠ€æœ¯ä¿è¯**:
- ä½¿ç”¨Booståº“ç¡®ä¿C++17å…¼å®¹æ€§
- ä¿æŒç°æœ‰ä¾èµ–å…³ç³»å’ŒæœåŠ¡æ¥å£
- é€šè¿‡é€‚é…å™¨å±‚é¿å…å¤§è§„æ¨¡é‡æ„
- ç¡®ä¿å‘åå…¼å®¹å’Œæ¸è¿›å¼è¿ç§»

**ğŸ¯ ç»“è®º**: æœ¬æ–¹æ¡ˆåœ¨C++17æ ‡å‡†ä¸‹å®Œå…¨å¯å®æ–½ï¼Œæ— éœ€æ¶æ„æ”¹åŠ¨ï¼Œä¸“æ³¨è§£å†³å…ƒæ•°æ®æ•´åˆé—®é¢˜ã€‚ 

## ğŸ“… **è¯¦ç»†æ•´åˆé˜¶æ®µä¸å®æ–½è®¡åˆ’**

### **ğŸ—ï¸ ç¬¬ä¸€é˜¶æ®µï¼šæ•°æ®ç»“æ„ç»Ÿä¸€åŒ– (2-3å‘¨)**

#### **1.1 ç¬¬ä¸€å‘¨ï¼šæ ¸å¿ƒæ•°æ®ç»“æ„ä¿®æ”¹**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: ä¿®æ”¹core_services::FileMetadataç»“æ„
â”œâ”€â”€ æ·»åŠ boost::optionalå­—æ®µæ›¿ä»£std::optional
â”œâ”€â”€ ç¡®ä¿æ‰€æœ‰å­—æ®µå®šä¹‰æ˜ç¡®
â”œâ”€â”€ æ·»åŠ ç±»å‹è½¬æ¢æ–¹æ³•
â””â”€â”€ æ›´æ–°ç›¸å…³æšä¸¾å®šä¹‰

Day 3-4: ä¿®æ”¹VariableMetaç»“æ„
â”œâ”€â”€ ç»Ÿä¸€dataTypeå­—æ®µä¸ºenumç±»å‹
â”œâ”€â”€ æ·»åŠ dataTypeStringå…¼å®¹å­—æ®µ
â”œâ”€â”€ å®ç°getDataTypeString()æ–¹æ³•
â””â”€â”€ æ·»åŠ setDataTypeFromString()æ–¹æ³•

Day 5: åˆ›å»ºUnifiedQueryCriteria
â”œâ”€â”€ å®šä¹‰ç»Ÿä¸€æŸ¥è¯¢æ¡ä»¶ç»“æ„
â”œâ”€â”€ ä½¿ç”¨boost::optionalå¤„ç†å¯é€‰æ¡ä»¶
â””â”€â”€ æ·»åŠ éªŒè¯æ–¹æ³•
```

**äº¤ä»˜ç‰©**ï¼š
- âœ… ä¿®æ”¹åçš„`common_data_types.h`
- âœ… æ›´æ–°çš„æ•°æ®ç±»å‹è½¬æ¢å·¥å…·
- âœ… å•å…ƒæµ‹è¯•ç”¨ä¾‹
- âœ… ç¼–è¯‘éªŒè¯æŠ¥å‘Š

**é£é™©æ§åˆ¶**ï¼š
- ğŸ”„ **æ»šåŠ¨æ›´æ–°ç­–ç•¥**ï¼šåˆ†æ‰¹æ›´æ–°æ¨¡å—ï¼Œä¿æŒç³»ç»Ÿå¯ç”¨æ€§
- ğŸ§ª **å……åˆ†æµ‹è¯•**ï¼šæ¯ä¸ªä¿®æ”¹éƒ½æœ‰å¯¹åº”çš„å•å…ƒæµ‹è¯•
- ğŸ“‹ **å…¼å®¹æ€§æ£€æŸ¥**ï¼šç¡®ä¿ç°æœ‰ä»£ç ä¸å—å½±å“

#### **1.2 ç¬¬äºŒå‘¨ï¼šåºŸå¼ƒé‡å¤ç»“æ„**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: æ ‡è®°åºŸå¼ƒç»“æ„
â”œâ”€â”€ data_access::ExtractedMetadata -> @deprecated
â”œâ”€â”€ readers::ExtendedFileMetadata -> @deprecated
â”œâ”€â”€ metadata::ExtractedMetadata -> @deprecated
â””â”€â”€ æ·»åŠ è¿ç§»æŒ‡å¯¼æ³¨é‡Š

Day 3-4: åˆ›å»ºè½¬æ¢å·¥å…·
â”œâ”€â”€ å®ç°ç»“æ„è½¬æ¢å‡½æ•°
â”œâ”€â”€ æä¾›è‡ªåŠ¨è¿ç§»è„šæœ¬
â””â”€â”€ éªŒè¯è½¬æ¢æ­£ç¡®æ€§

Day 5: ç¼–è¯‘å’Œæµ‹è¯•
â”œâ”€â”€ å…¨å±€ç¼–è¯‘éªŒè¯
â”œâ”€â”€ å›å½’æµ‹è¯•æ‰§è¡Œ
â””â”€â”€ æ€§èƒ½å¯¹æ¯”æµ‹è¯•
```

**äº¤ä»˜ç‰©**ï¼š
- âœ… åºŸå¼ƒæ ‡è®°çš„å¤´æ–‡ä»¶
- âœ… ç»“æ„è½¬æ¢å·¥å…·åº“
- âœ… è¿ç§»æ–‡æ¡£
- âœ… éªŒè¯æµ‹è¯•æŠ¥å‘Š

#### **1.3 ç¬¬ä¸‰å‘¨ï¼šé›†æˆéªŒè¯**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-3: å…¨é¢é›†æˆæµ‹è¯•
â”œâ”€â”€ è·¨æ¨¡å—æ•°æ®æµæµ‹è¯•
â”œâ”€â”€ ç±»å‹å®‰å…¨éªŒè¯
â”œâ”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
â””â”€â”€ å†…å­˜æ³„æ¼æ£€æŸ¥

Day 4-5: é—®é¢˜ä¿®å¤å’Œä¼˜åŒ–
â”œâ”€â”€ ä¿®å¤å‘ç°çš„å…¼å®¹æ€§é—®é¢˜
â”œâ”€â”€ ä¼˜åŒ–æ•°æ®è½¬æ¢æ€§èƒ½
â””â”€â”€ å®Œå–„é”™è¯¯å¤„ç†æœºåˆ¶
```

### **ğŸ”§ ç¬¬äºŒé˜¶æ®µï¼šé€‚é…å™¨å±‚å»ºè®¾ (3-4å‘¨)**

#### **2.1 ç¬¬ä¸€å‘¨ï¼šUnifiedMetadataAdapterè®¾è®¡ä¸å®ç°**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: é€‚é…å™¨æ¥å£è®¾è®¡
â”œâ”€â”€ å®šä¹‰IUnifiedMetadataAdapteræ¥å£
â”œâ”€â”€ è®¾è®¡ä¾èµ–æ³¨å…¥æœºåˆ¶
â”œâ”€â”€ è§„åˆ’å¼‚å¸¸å¤„ç†ç­–ç•¥
â””â”€â”€ è®¾è®¡ç¼“å­˜æœºåˆ¶

Day 3-5: æ ¸å¿ƒé€‚é…å™¨å®ç°
â”œâ”€â”€ å®ç°UnifiedMetadataAdapterç±»
â”œâ”€â”€ é›†æˆCommonServicesFactory
â”œâ”€â”€ å®ç°validateAndStandardizeAsyncæ–¹æ³•
â””â”€â”€ å®ç°enhanceMetadataAsyncæ–¹æ³•
```

**ä»£ç ç¤ºä¾‹**ï¼š
```cpp
// å…³é”®å®ç°ç‰‡æ®µ
boost::future<ValidationResult> UnifiedMetadataAdapter::validateAndStandardizeAsync(
    const FileMetadata& rawMetadata) {
    
    return boost::async(boost::launch::async, [this, rawMetadata]() {
        ValidationResult result;
        
        // åŸºç¡€éªŒè¯
        if (rawMetadata.filePath.empty()) {
            result.errors.push_back("æ–‡ä»¶è·¯å¾„ä¸ºç©º");
            result.isValid = false;
        }
        
        // å§”æ‰˜ç»™ä¸“ä¸šå¤„ç†å™¨
        auto timeValidation = timeProcessor_->validateTimeRange(rawMetadata.timeRange);
        auto spatialValidation = spatialProcessor_->validateBoundingBox(rawMetadata.spatialCoverage);
        
        // åˆå¹¶éªŒè¯ç»“æœ
        result.mergeResults({timeValidation, spatialValidation});
        
        return result;
    });
}
```

#### **2.2 ç¬¬äºŒå‘¨ï¼šæ—¶é—´å¤„ç†å™¨å®ç°**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: TimeMetadataProcessorå®ç°
â”œâ”€â”€ convertToCommonTimeRangeæ–¹æ³•
â”œâ”€â”€ calculateTimeResolutionæ–¹æ³•
â”œâ”€â”€ evaluateTimeQualityæ–¹æ³•
â””â”€â”€ standardizeTimeFormatæ–¹æ³•

Day 3-4: æ—¶é—´å¤„ç†é€»è¾‘æ•´åˆ
â”œâ”€â”€ ç»Ÿä¸€å„æ¨¡å—çš„æ—¶é—´è½¬æ¢é€»è¾‘
â”œâ”€â”€ ç§»é™¤é‡å¤çš„æ—¶é—´å¤„ç†ä»£ç 
â”œâ”€â”€ é›†æˆcommonæ¨¡å—çš„æ—¶é—´å·¥å…·
â””â”€â”€ æ€§èƒ½ä¼˜åŒ–

Day 5: æµ‹è¯•éªŒè¯
â”œâ”€â”€ æ—¶é—´è½¬æ¢å‡†ç¡®æ€§æµ‹è¯•
â”œâ”€â”€ å„ç§æ—¶é—´æ ¼å¼å…¼å®¹æ€§æµ‹è¯•
â””â”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
```

#### **2.3 ç¬¬ä¸‰å‘¨ï¼šç©ºé—´å¤„ç†å™¨å®ç°**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: SpatialMetadataProcessorå®ç°
â”œâ”€â”€ standardizeCRSInfoAsyncæ–¹æ³•
â”œâ”€â”€ validateBoundingBoxAsyncæ–¹æ³•
â”œâ”€â”€ checkCRSCompatibilityAsyncæ–¹æ³•
â””â”€â”€ é›†æˆCRSå’ŒSpatialæœåŠ¡

Day 3-4: ç©ºé—´å¤„ç†é€»è¾‘æ•´åˆ
â”œâ”€â”€ åè°ƒCRSæœåŠ¡å’Œç©ºé—´æœåŠ¡
â”œâ”€â”€ ç§»é™¤é‡å¤çš„åæ ‡è½¬æ¢ä»£ç 
â”œâ”€â”€ ç»Ÿä¸€è¾¹ç•Œæ¡†éªŒè¯é€»è¾‘
â””â”€â”€ ä¼˜åŒ–å¼‚æ­¥å¤„ç†æ€§èƒ½

Day 5: é›†æˆæµ‹è¯•
â”œâ”€â”€ å¤šç§CRSè½¬æ¢æµ‹è¯•
â”œâ”€â”€ è¾¹ç•Œæ¡†éªŒè¯æµ‹è¯•
â””â”€â”€ ä¸ç°æœ‰æœåŠ¡å…¼å®¹æ€§æµ‹è¯•
```

#### **2.4 ç¬¬å››å‘¨ï¼šåˆ†è¾¨ç‡è®¡ç®—æœåŠ¡å®ç°**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-3: ResolutionCalculationServiceå®ç°
â”œâ”€â”€ calculateSpatialResolutionAsyncæ–¹æ³•
â”œâ”€â”€ calculateTimeResolutionAsyncæ–¹æ³•
â”œâ”€â”€ evaluateResolutionQualityæ–¹æ³•
â”œâ”€â”€ ç­–ç•¥æ¨¡å¼å®ç°ï¼ˆGDAL/NetCDF/Gridï¼‰
â””â”€â”€ è‡ªåŠ¨ç®—æ³•é€‰æ‹©é€»è¾‘

Day 4-5: å…¨é¢æµ‹è¯•å’Œä¼˜åŒ–
â”œâ”€â”€ å„ç§æ–‡ä»¶æ ¼å¼åˆ†è¾¨ç‡è®¡ç®—æµ‹è¯•
â”œâ”€â”€ ç®—æ³•å‡†ç¡®æ€§éªŒè¯
â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–
â””â”€â”€ é”™è¯¯å¤„ç†å®Œå–„
```

### **ğŸ”„ ç¬¬ä¸‰é˜¶æ®µï¼šæœåŠ¡æ¥å£é‡æ„ (4-6å‘¨)**

#### **3.1 ç¬¬ä¸€-äºŒå‘¨ï¼šå…ƒæ•°æ®æœåŠ¡æ¥å£é‡æ„**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Week 1:
Day 1-2: IUnifiedMetadataServiceæ¥å£è®¾è®¡
â”œâ”€â”€ é‡æ–°è®¾è®¡æ¥å£æ–¹æ³•ç­¾å
â”œâ”€â”€ ç»Ÿä¸€è¿”å›ç±»å‹ä¸ºFileMetadata
â”œâ”€â”€ æ·»åŠ æ‰¹é‡å¤„ç†æ¥å£
â””â”€â”€ è®¾è®¡é”™è¯¯å¤„ç†æœºåˆ¶

Day 3-5: MetadataServiceImplé‡æ„
â”œâ”€â”€ é‡æ„receiveFileMetadataAsyncæ–¹æ³•
â”œâ”€â”€ é‡æ„queryMetadataAsyncæ–¹æ³•
â”œâ”€â”€ é›†æˆUnifiedMetadataAdapter
â””â”€â”€ ç§»é™¤æ‰‹åŠ¨è½¬æ¢é€»è¾‘

Week 2:
Day 1-3: æ•°æ®åº“å±‚é€‚é…
â”œâ”€â”€ æ›´æ–°æ•°æ®åº“å­˜å‚¨é€»è¾‘
â”œâ”€â”€ ä¿®æ”¹æŸ¥è¯¢æ¥å£
â”œâ”€â”€ æ·»åŠ æ‰¹é‡æ“ä½œæ”¯æŒ
â””â”€â”€ æ€§èƒ½ä¼˜åŒ–

Day 4-5: æœåŠ¡é›†æˆæµ‹è¯•
â”œâ”€â”€ ç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ å¹¶å‘å¤„ç†æµ‹è¯•
â””â”€â”€ æ•°æ®ä¸€è‡´æ€§éªŒè¯
```

#### **3.2 ç¬¬ä¸‰-å››å‘¨ï¼šæ•°æ®è®¿é—®æœåŠ¡é‡æ„**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Week 3:
Day 1-2: IUnifiedDataAccessServiceæ¥å£è®¾è®¡
â”œâ”€â”€ ç»Ÿä¸€å…ƒæ•°æ®æå–æ¥å£
â”œâ”€â”€ æ ‡å‡†åŒ–è¿”å›æ ¼å¼
â”œâ”€â”€ æ·»åŠ æ‰¹é‡å¤„ç†èƒ½åŠ›
â””â”€â”€ é”™è¯¯å¤„ç†æœºåˆ¶

Day 3-5: æ•°æ®è®¿é—®æœåŠ¡å®ç°
â”œâ”€â”€ UnifiedDataAccessServiceImplå®ç°
â”œâ”€â”€ é€‰æ‹©å™¨é€»è¾‘é‡æ„
â”œâ”€â”€ å·¥å‚æ¨¡å¼å®ç°
â””â”€â”€ å¼‚æ­¥å¤„ç†ä¼˜åŒ–

Week 4:
Day 1-3: è¯»å–å™¨æ ‡å‡†åŒ–
â”œâ”€â”€ IStandardizedMetadataReaderæ¥å£
â”œâ”€â”€ å„è¯»å–å™¨é€‚é…æ”¹é€ 
â”œâ”€â”€ ç»Ÿä¸€è¾“å‡ºæ ¼å¼éªŒè¯
â””â”€â”€ èƒ½åŠ›å£°æ˜æœºåˆ¶

Day 4-5: é›†æˆæµ‹è¯•
â”œâ”€â”€ å¤šæ ¼å¼æ–‡ä»¶è¯»å–æµ‹è¯•
â”œâ”€â”€ æ‰¹é‡å¤„ç†æ€§èƒ½æµ‹è¯•
â””â”€â”€ é”™è¯¯æ¢å¤æµ‹è¯•
```

#### **3.3 ç¬¬äº”-å…­å‘¨ï¼šGDALè¯»å–å™¨å¢å¼º**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Week 5:
Day 1-3: GDALè¯»å–å™¨é‡æ„
â”œâ”€â”€ extractStandardMetadataAsyncå®ç°
â”œâ”€â”€ å®Œæ•´ç©ºé—´ä¿¡æ¯æå–
â”œâ”€â”€ CRSä¿¡æ¯æ ‡å‡†åŒ–
â”œâ”€â”€ æ³¢æ®µåˆ°å˜é‡æ˜ å°„
â””â”€â”€ æ•°æ®ç±»å‹è½¬æ¢

Day 4-5: çŸ¢é‡æ•°æ®æ”¯æŒ
â”œâ”€â”€ OGRé›†æˆ
â”œâ”€â”€ çŸ¢é‡å…ƒæ•°æ®æå–
â”œâ”€â”€ å±æ€§ä¿¡æ¯æ˜ å°„
â””â”€â”€ å‡ ä½•ç±»å‹å¤„ç†

Week 6:
Day 1-3: é«˜çº§åŠŸèƒ½å®ç°
â”œâ”€â”€ å¤šæ³¢æ®µæ•°æ®å¤„ç†
â”œâ”€â”€ å…ƒæ•°æ®ç»§æ‰¿æœºåˆ¶
â”œâ”€â”€ è´¨é‡è¯„ä¼°ç®—æ³•
â””â”€â”€ ç¼“å­˜ä¼˜åŒ–

Day 4-5: å…¨é¢éªŒè¯
â”œâ”€â”€ å„ç§GDALæ ¼å¼æµ‹è¯•
â”œâ”€â”€ å¤§æ–‡ä»¶å¤„ç†æµ‹è¯•
â”œâ”€â”€ å†…å­˜ä½¿ç”¨ä¼˜åŒ–
â””â”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
```

### **âœ… ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•å’Œä¼˜åŒ– (2-3å‘¨)**

#### **4.1 ç¬¬ä¸€å‘¨ï¼šå…¨é¢åŠŸèƒ½æµ‹è¯•**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: å•å…ƒæµ‹è¯•å®Œå–„
â”œâ”€â”€ æ‰€æœ‰æ–°å¢ç±»çš„å•å…ƒæµ‹è¯•
â”œâ”€â”€ è¾¹ç•Œæ¡ä»¶æµ‹è¯•
â”œâ”€â”€ å¼‚å¸¸æƒ…å†µæµ‹è¯•
â””â”€â”€ Mockå¯¹è±¡æµ‹è¯•

Day 3-4: é›†æˆæµ‹è¯•
â”œâ”€â”€ æ¨¡å—é—´åä½œæµ‹è¯•
â”œâ”€â”€ ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•
â”œâ”€â”€ æ•°æ®ä¸€è‡´æ€§éªŒè¯
â””â”€â”€ å¹¶å‘å®‰å…¨æµ‹è¯•

Day 5: ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ å®Œæ•´å·¥ä½œæµæµ‹è¯•
â”œâ”€â”€ ç”¨æˆ·åœºæ™¯æ¨¡æ‹Ÿ
â”œâ”€â”€ è´Ÿè½½æµ‹è¯•
â””â”€â”€ ç¨³å®šæ€§æµ‹è¯•
```

#### **4.2 ç¬¬äºŒå‘¨ï¼šæ€§èƒ½ä¼˜åŒ–**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: æ€§èƒ½åˆ†æ
â”œâ”€â”€ Profilingå·¥å…·åˆ†æ
â”œâ”€â”€ çƒ­ç‚¹ä»£ç è¯†åˆ«
â”œâ”€â”€ å†…å­˜ä½¿ç”¨åˆ†æ
â””â”€â”€ å¼‚æ­¥æ€§èƒ½è¯„ä¼°

Day 3-4: ä¼˜åŒ–å®æ–½
â”œâ”€â”€ ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
â”œâ”€â”€ å¹¶å‘å¤„ç†æ”¹è¿›
â”œâ”€â”€ å†…å­˜åˆ†é…ä¼˜åŒ–
â””â”€â”€ ç®—æ³•å¤æ‚åº¦æ”¹è¿›

Day 5: æ€§èƒ½éªŒè¯
â”œâ”€â”€ åŸºå‡†æµ‹è¯•å¯¹æ¯”
â”œâ”€â”€ èµ„æºä½¿ç”¨ç›‘æ§
â”œâ”€â”€ å“åº”æ—¶é—´æµ‹é‡
â””â”€â”€ ååé‡æµ‹è¯•
```

#### **4.3 ç¬¬ä¸‰å‘¨ï¼šéƒ¨ç½²å‡†å¤‡**

**å…·ä½“ä»»åŠ¡**ï¼š
```
Day 1-2: æ–‡æ¡£å®Œå–„
â”œâ”€â”€ APIæ–‡æ¡£æ›´æ–°
â”œâ”€â”€ é…ç½®æŒ‡å—ç¼–å†™
â”œâ”€â”€ è¿ç§»æ‰‹å†Œå®Œå–„
â””â”€â”€ æ•…éšœæ’é™¤æŒ‡å—

Day 3-4: éƒ¨ç½²éªŒè¯
â”œâ”€â”€ é¢„ç”Ÿäº§ç¯å¢ƒæµ‹è¯•
â”œâ”€â”€ å›æ»šæœºåˆ¶éªŒè¯
â”œâ”€â”€ ç›‘æ§å‘Šè­¦é…ç½®
â””â”€â”€ å¤‡ä»½æ¢å¤æµ‹è¯•

Day 5: å‘å¸ƒå‡†å¤‡
â”œâ”€â”€ ç‰ˆæœ¬æ‰“åŒ…
â”œâ”€â”€ å‘å¸ƒè¯´æ˜ç¼–å†™
â”œâ”€â”€ å›¢é˜ŸåŸ¹è®­å‡†å¤‡
â””â”€â”€ ä¸Šçº¿æ£€æŸ¥æ¸…å•
```

## ğŸ“Š **è¯¦ç»†æ—¶é—´è¡¨å’Œé‡Œç¨‹ç¢‘**

### **æ€»ä½“æ—¶é—´çº¿ï¼ˆ3.5-4å‘¨ï¼‰**

```
é˜¶æ®µä¸€ï¼šæ•°æ®ç»“æ„ç»Ÿä¸€åŒ– (1å‘¨)
â”œâ”€â”€ Day 1-2: åˆ é™¤é‡å¤ç»“æ„æ–‡ä»¶
â”œâ”€â”€ Day 3-4: ä¿®æ”¹æ ¸å¿ƒç»“æ„
â”œâ”€â”€ Day 5: ç¼–è¯‘éªŒè¯
â””â”€â”€ ğŸ† é‡Œç¨‹ç¢‘1: æ•°æ®ç»“æ„ç»Ÿä¸€å®Œæˆ

é˜¶æ®µäºŒï¼šåŠŸèƒ½æ•´åˆç®€åŒ– (1å‘¨)
â”œâ”€â”€ Day 1-3: åˆ é™¤é€‚é…å™¨å±‚ï¼Œç®€åŒ–å¤„ç†é€»è¾‘
â”œâ”€â”€ Day 4-5: ç»Ÿä¸€å„ç±»å¤„ç†é€»è¾‘
â””â”€â”€ ğŸ† é‡Œç¨‹ç¢‘2: åŠŸèƒ½æ•´åˆå®Œæˆ

é˜¶æ®µä¸‰ï¼šæ¥å£ç»Ÿä¸€é‡æ„ (1å‘¨)
â”œâ”€â”€ Day 1-3: é‡æ„æ‰€æœ‰æœåŠ¡æ¥å£
â”œâ”€â”€ Day 4-5: é‡æ„æ‰€æœ‰è¯»å–å™¨
â””â”€â”€ ğŸ† é‡Œç¨‹ç¢‘3: æ¥å£é‡æ„å®Œæˆ

é˜¶æ®µå››ï¼šæµ‹è¯•å’Œä¼˜åŒ– (3-4å¤©)
â”œâ”€â”€ Day 1-2: å…¨é¢åŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ Day 3-4: æ€§èƒ½éªŒè¯å’Œæ–‡æ¡£æ›´æ–°
â””â”€â”€ ğŸ† é‡Œç¨‹ç¢‘4: é¡¹ç›®å®Œæˆ
```

## ğŸ¯ **å…³é”®éªŒæ”¶æ ‡å‡†**

### **åŠŸèƒ½éªŒæ”¶æ ‡å‡†**

```
âœ… æ•°æ®ç»“æ„ç»Ÿä¸€æ€§
â”œâ”€â”€ æ‰€æœ‰æ¨¡å—ä½¿ç”¨ç»Ÿä¸€çš„FileMetadataç»“æ„
â”œâ”€â”€ å˜é‡ç±»å‹ä¸€è‡´æ€§100%éªŒè¯é€šè¿‡
â”œâ”€â”€ æŸ¥è¯¢ç»“æœæ ¼å¼å®Œå…¨æ ‡å‡†åŒ–
â””â”€â”€ å‘åå…¼å®¹æ€§ä¿æŒ100%

âœ… åŠŸèƒ½æ•´åˆå®Œæ•´æ€§
â”œâ”€â”€ æ—¶é—´è½¬æ¢é€»è¾‘ç»Ÿä¸€ï¼Œå‡†ç¡®ç‡100%
â”œâ”€â”€ ç©ºé—´å¤„ç†åè°ƒï¼Œæ— é‡å¤å®ç°
â”œâ”€â”€ åˆ†è¾¨ç‡è®¡ç®—ç»Ÿä¸€ï¼Œè¯¯å·®<1%
â””â”€â”€ GDALè¯»å–å™¨å®Œæ•´å…ƒæ•°æ®æå–

âœ… æ¥å£ä¸€è‡´æ€§
â”œâ”€â”€ æ‰€æœ‰è¯»å–å™¨è¾“å‡ºæ ‡å‡†FileMetadata
â”œâ”€â”€ å¼‚æ­¥æ¥å£ä½¿ç”¨boost::future
â”œâ”€â”€ é”™è¯¯å¤„ç†æœºåˆ¶ç»Ÿä¸€
â””â”€â”€ æ‰¹é‡å¤„ç†æ¥å£å®Œå¤‡
```

### **æ€§èƒ½éªŒæ”¶æ ‡å‡†**

```
âœ… å¤„ç†æ€§èƒ½æå‡
â”œâ”€â”€ å…ƒæ•°æ®å¤„ç†é€Ÿåº¦æå‡ â‰¥ 2å€
â”œâ”€â”€ å†…å­˜ä½¿ç”¨ä¼˜åŒ– â‰¥ 20%
â”œâ”€â”€ å¹¶å‘å¤„ç†èƒ½åŠ›æå‡ â‰¥ 50%
â””â”€â”€ å“åº”æ—¶é—´å‡å°‘ â‰¥ 30%

âœ… ç³»ç»Ÿç¨³å®šæ€§
â”œâ”€â”€ 7x24å°æ—¶ç¨³å®šè¿è¡Œ
â”œâ”€â”€ å†…å­˜æ³„æ¼ = 0
â”œâ”€â”€ å¼‚å¸¸æ¢å¤æ—¶é—´ < 1ç§’
â””â”€â”€ æ•°æ®ä¸€è‡´æ€§ä¿è¯100%
```

### **è´¨é‡éªŒæ”¶æ ‡å‡†**

```
âœ… ä»£ç è´¨é‡
â”œâ”€â”€ å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 85%
â”œâ”€â”€ é›†æˆæµ‹è¯•è¦†ç›–ç‡ â‰¥ 90%
â”œâ”€â”€ é™æ€ä»£ç åˆ†ææ— é‡å¤§é—®é¢˜
â””â”€â”€ ä»£ç é‡å¤ç‡ < 5%

âœ… æ–‡æ¡£å®Œæ•´æ€§
â”œâ”€â”€ APIæ–‡æ¡£è¦†ç›–ç‡100%
â”œâ”€â”€ é…ç½®æ–‡æ¡£å®Œæ•´
â”œâ”€â”€ æ•…éšœæ’é™¤æŒ‡å—å®Œå¤‡
â””â”€â”€ å¼€å‘è€…æ–‡æ¡£é½å…¨
```

## âš ï¸ **é£é™©ç®¡æ§ç­–ç•¥**

### **æŠ€æœ¯é£é™©**

| é£é™©ç±»å‹ | é£é™©ç­‰çº§ | åº”å¯¹ç­–ç•¥ | è´Ÿè´£äºº | æ—¶é—´èŠ‚ç‚¹ |
|---------|----------|----------|--------|----------|
| **C++17å…¼å®¹æ€§é—®é¢˜** | ğŸ”´ é«˜ | æå‰éªŒè¯ï¼Œå‡†å¤‡fallbackæ–¹æ¡ˆ | æ¶æ„å¸ˆ | é˜¶æ®µä¸€å¼€å§‹ |
| **æ€§èƒ½å›é€€** | ğŸŸ¡ ä¸­ | æŒç»­åŸºå‡†æµ‹è¯•ï¼Œæ€§èƒ½ç›‘æ§ | å¼€å‘ç»„é•¿ | å…¨ç¨‹ç›‘æ§ |
| **æ•°æ®è¿ç§»é£é™©** | ğŸŸ¡ ä¸­ | åˆ†æ‰¹è¿ç§»ï¼Œå›æ»šæœºåˆ¶ | æ•°æ®å·¥ç¨‹å¸ˆ | é˜¶æ®µä¸€-äºŒ |
| **é›†æˆå¤æ‚åº¦** | ğŸŸ¡ ä¸­ | æ¸è¿›é›†æˆï¼Œå……åˆ†æµ‹è¯• | æµ‹è¯•ç»ç† | é˜¶æ®µä¸‰-å›› |

### **è¿›åº¦é£é™©**

| é£é™©ç±»å‹ | åº”å¯¹ç­–ç•¥ |
|---------|----------|
| **äººå‘˜ä¸è¶³** | æå‰èµ„æºè§„åˆ’ï¼Œå…³é”®æŠ€èƒ½åŸ¹è®­ |
| **éœ€æ±‚å˜æ›´** | å˜æ›´æ§åˆ¶æµç¨‹ï¼Œå½±å“è¯„ä¼° |
| **æŠ€æœ¯éš¾ç‚¹** | æŠ€æœ¯é¢„ç ”ï¼Œä¸“å®¶å’¨è¯¢ |
| **æµ‹è¯•ä¸å……åˆ†** | è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ŒæŒç»­é›†æˆ |

## ğŸ”„ **æŒç»­æ”¹è¿›æœºåˆ¶**

### **ç›‘æ§æŒ‡æ ‡**

```
ğŸ“Š æŠ€æœ¯æŒ‡æ ‡
â”œâ”€â”€ ç¼–è¯‘æˆåŠŸç‡
â”œâ”€â”€ æµ‹è¯•é€šè¿‡ç‡
â”œâ”€â”€ ä»£ç è¦†ç›–ç‡
â”œâ”€â”€ æ€§èƒ½åŸºå‡†å€¼
â””â”€â”€ ç¼ºé™·å¯†åº¦

ğŸ“Š é¡¹ç›®æŒ‡æ ‡
â”œâ”€â”€ è¿›åº¦å®Œæˆç‡
â”œâ”€â”€ é‡Œç¨‹ç¢‘è¾¾æˆç‡
â”œâ”€â”€ èµ„æºåˆ©ç”¨ç‡
â”œâ”€â”€ é£é™©æš´éœ²åº¦
â””â”€â”€ å›¢é˜Ÿæ»¡æ„åº¦
```

### **reviewæœºåˆ¶**

```
ğŸ” æ¯æ—¥Standup
â”œâ”€â”€ è¿›åº¦åŒæ­¥
â”œâ”€â”€ é—®é¢˜è¯†åˆ«
â””â”€â”€ åä½œè°ƒæ•´

ğŸ” å‘¨åº¦Review
â”œâ”€â”€ é‡Œç¨‹ç¢‘æ£€æŸ¥
â”œâ”€â”€ è´¨é‡è¯„ä¼°
â”œâ”€â”€ é£é™©è¯„ä¼°
â””â”€â”€ èµ„æºè°ƒæ•´

ğŸ” é˜¶æ®µReview
â”œâ”€â”€ äº¤ä»˜ç‰©éªŒæ”¶
â”œâ”€â”€ ç»éªŒæ€»ç»“
â”œâ”€â”€ æµç¨‹æ”¹è¿›
â””â”€â”€ ä¸‹é˜¶æ®µè§„åˆ’
```

---

**ğŸ“‹ æ€»ç»“**: æ­¤è¯¦ç»†è®¡åˆ’ç¡®ä¿å…ƒæ•°æ®æ•´åˆé¡¹ç›®åœ¨C++17ç¯å¢ƒä¸‹æœ‰åºæ¨è¿›ï¼Œé€šè¿‡ç§‘å­¦çš„é˜¶æ®µåˆ’åˆ†ã€ä¸¥æ ¼çš„éªŒæ”¶æ ‡å‡†å’Œå…¨é¢çš„é£é™©ç®¡æ§ï¼Œä¿è¯é¡¹ç›®æˆåŠŸäº¤ä»˜å¹¶è¾¾åˆ°é¢„æœŸç›®æ ‡ã€‚ 